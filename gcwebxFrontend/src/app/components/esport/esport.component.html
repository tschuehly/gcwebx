<div class="row backgroundimg" [ngClass]="page == 'valorant' ? 'valorant_bg':'rainbow_bg'">
  <div class="container-fluid topspace"></div>

  <div class="container m-auto mt-5 ">
    <div class="container teamselection d-flex justify-content-center flex-wrap p-3">
      <ng-container *ngFor="let team of teams$ | async">
        <ng-container *ngIf="page == team.game">
            <div class="btn-group p-2 ">
              <a class="btn btn-outline-light" (click)="currentTeam = team"><h5 class="text-light m-0">{{team.teamName}}</h5></a>
            </div>
        </ng-container>
      </ng-container>
    </div>
    <div class="container-fluid p-2 mt-4 teamselection text-center text-light">
      <h1 class="">{{currentTeam.teamName}}</h1>
      <p class="m-0">Unser Team Silentpeak spielt in der DESBL Advanced League</p>
    </div>
    <div class="d-flex justify-content-center flex-wrap">
      <ng-container *ngFor="let member of currentTeam.members;index as i">
        <div class="card bg-dark m-3">
          <ng-container *ngIf="member.cardImg == null; else cardImg">
            <img #cardImg class="card-img-top " src="assets/operators/ash.jpg" alt="Card image cap">
          </ng-container>
          <ng-template #cardImg>
            <img  class="card-img-top" [ngStyle]="page == 'valorant' ? {'object-position': 'top'}:''" src="assets/operators/{{member.cardImg}}" alt="Card image cap">
          </ng-template>
          <!--
          <div class="card-img-overlay text-light d-flex flex-column justify-content-between">

            <div>
              <h4 class="card-title">Max Mustermann</h4>
              <p>Alter: 18 Jahre</p>
            </div>
          </div>-->
          <div class="card-body text-center">
            <h2>{{member.name}}</h2>
            <p class="card-text text-center d-flex justify-content-around pt-2">
              <a href="https://{{member.twitter}}"><i class="fab fa-twitter fa-2x"></i></a>

              <a href="https://{{member.youtube}}"><i class="fab fa-youtube fa-2x"></i></a>
            </p>

          </div>
        </div>
      </ng-container>
    </div>
  </div>
  <div *ngIf="page == 'teammanagement'">
    <h1 class="text-light">Teamverwaltung</h1>
    <div class="container my-auto mt-2">
      <div class="container-fluid ">
        <div class="row pl-2 py-2">
          <div class="col-4 ml-auto">
            <button class="btn btn-outline-light" (click)="createTeam()">Create New Team</button>
          </div>

        </div>
        <table class="table table-dark">
          <tr>
            <th>ID:</th>
            <th>Name</th>
            <th>Game</th>
            <th>Generelle Info</th>
            <th>Member:</th>
          </tr>
          <tr *ngFor="let team of teams$ | async">
            <td>{{team.teamId}}</td>
            <td>
              <button type="button" class="btn btn-outline-light" (click)="editTeam(team)">
                {{team.teamName}}
              </button>
            </td>
            <td>{{team.game}}</td>
            <td>{{team.generalInfo}}</td>
            <td><h5><span *ngFor="let member of team.members" class="badge badge-light text">{{member.name}}</span>
            </h5></td>
          </tr>
        </table>
        <div class="row">
          <div class="table-responsive">
            <table class="table table-borderless text-light">
              <cdk-virtual-scroll-viewport itemSize='5' class="viewport" minBufferPx="1200" maxBufferPx="1500">
                <thead class="thead">
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Game</th>
                  <th>Generelle Info</th>
                </tr>
                </thead>

                <tbody>
                <tr *cdkVirtualFor="let team of teams$ |  async" class="tablerow">
                  <td>{{team.teamId}}</td>
                  <td>
                    <button type="button" class="btn btn-outline-light bt n-block" (click)="editTeam(team)">
                      {{team.teamName}}
                    </button>
                  </td>
                  <td>{{team.game}}</td>
                  <td>{{team.generalInfo}}</td>

                </tr>


                </tbody>
              </cdk-virtual-scroll-viewport>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
