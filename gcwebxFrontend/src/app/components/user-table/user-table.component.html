<div class="row backgroundimg">
  <div class="container-fluid topspace"></div>
  <div class="container mt-auto mb-2">
    <div class="container-fluid ">
      <div class="row pl-2 py-2">
        <div class="col-4">
          <input class="form-control" type="text" [formControl]="searchFilter" placeholder="Filter user">
        </div>
        <div class="col-4 ml-auto">
          <button class="btn btn-outline-light" (click)="createUser()">Create New User</button>
        </div>

      </div>
      <div class="row">
        <!-- TODO: Header stays fixed https://github.com/rintoj/ngx-virtual-scroller/issues/51 -->
        <div class="table-responsive">
          <table class="table table-borderless text-light">
            <cdk-virtual-scroll-viewport itemSize='5' class="viewport" minBufferPx="1200" maxBufferPx="1500">
              <thead class="thead">
              <tr>
                <th>Name</th>
                <th>Userrole</th>
                <th>Editorrole</th>
                <th>Supportrole</th>
                <th>Moderatorrole</th>
                <th>Adminrole</th>
              </tr>
              </thead>

              <tbody>


              <tr *cdkVirtualFor="let userobj of filteredUserTable$ | async" class="tablerow">
                <td>
                  <button type="button" class="btn btn-outline-light bt n-block" (click)="editUser(userobj)">
                    {{userobj.username}}
                  </button>
                </td>
                <ng-template #trueRef>
                  <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-check-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                    <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
                  </svg>
                </ng-template>
                  <ng-template #falseRef>
                    <td>
                      <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                      </svg>
                    </td>
                  </ng-template>


                <td *ngIf="userobj.roleUser else falseRef"><ng-template [ngTemplateOutlet]="trueRef"></ng-template></td>
                <td *ngIf="userobj.roleEditor else falseRef"><ng-template [ngTemplateOutlet]="trueRef"></ng-template></td>
                <td *ngIf="userobj.roleSupport else falseRef"><ng-template [ngTemplateOutlet]="trueRef"></ng-template></td>
                <td *ngIf="userobj.roleModerator else falseRef"><ng-template [ngTemplateOutlet]="trueRef"></ng-template></td>
                <td *ngIf="userobj.roleAdmin else falseRef"><ng-template [ngTemplateOutlet]="trueRef"></ng-template></td>

              </tr>

              </tbody>
            </cdk-virtual-scroll-viewport>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

